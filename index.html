<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AR Christmas Magic ðŸŽ„</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar-nft.js"></script>

    <style>
        body { margin: 0; overflow: hidden; }

        #message {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 16px 24px;
            color: #c94b4b;
            font-size: 18px;
            font-weight: bold;
            border-radius: 20px;
            text-align: center;
            max-width: 85%;
            z-index: 9999;
            opacity: 0;
            transition: opacity 0.4s ease;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }
        #message.visible { opacity: 1; }

        #instructions {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 12px 20px;
            color: white;
            font-size: 14px;
            border-radius: 15px;
            text-align: center;
            z-index: 9999;
        }
    </style>
</head>
<body>

<div id="message"></div>
<div id="instructions">ðŸ“± Point camera at HIRO marker</div>

<a-scene
        embedded
        vr-mode-ui="enabled: false"
        renderer="logarithmicDepthBuffer: true; antialias: true;"
        arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;">

    <a-marker preset="hiro" id="mainMarker">

        <!-- ÐÐ¾Ð²Ð¾Ð³Ð¾Ð´Ð½ÑÑ Ñ‘Ð»ÐºÐ° -->
        <a-entity id="christmasTree" position="0 0 0" scale="0.4 0.4 0.4">
            <!-- Ð¡Ñ‚Ð²Ð¾Ð» -->
            <a-cylinder
                    position="0 0.1 0"
                    radius="0.15"
                    height="0.3"
                    color="#8B4513">
            </a-cylinder>

            <!-- Ð¢Ñ€Ð¸ ÑÑ€ÑƒÑÐ° Ñ‘Ð»ÐºÐ¸ -->
            <a-cone
                    position="0 0.35 0"
                    radius-bottom="0.6"
                    radius-top="0.1"
                    height="0.5"
                    color="#0f5f0f"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 10000; easing: linear">
            </a-cone>

            <a-cone
                    position="0 0.65 0"
                    radius-bottom="0.5"
                    radius-top="0.1"
                    height="0.4"
                    color="#138f13"
                    animation="property: rotation; to: 0 -360 0; loop: true; dur: 8000; easing: linear">
            </a-cone>

            <a-cone
                    position="0 0.9 0"
                    radius-bottom="0.4"
                    radius-top="0.05"
                    height="0.35"
                    color="#17af17"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 6000; easing: linear">
            </a-cone>

            <!-- Ð—Ð²ÐµÐ·Ð´Ð° Ð½Ð° Ð²ÐµÑ€ÑˆÐ¸Ð½Ðµ -->
            <a-octahedron
                    position="0 1.2 0"
                    radius="0.15"
                    color="#FFD700"
                    material="emissive: #FFD700; emissiveIntensity: 0.8"
                    animation="property: rotation; to: 360 360 360; loop: true; dur: 3000">
            </a-octahedron>

            <!-- Ð¡Ð²ÐµÑ‚ÑÑ‰Ð¸ÐµÑÑ ÑˆÐ°Ñ€Ð¸ÐºÐ¸ Ð½Ð° Ñ‘Ð»ÐºÐµ -->
            <a-sphere position="0.3 0.4 0.2" radius="0.08" color="#ff1493"
                      material="emissive: #ff1493; emissiveIntensity: 0.6"
                      animation="property: scale; from: 0.8 0.8 0.8; to: 1.2 1.2 1.2; dir: alternate; loop: true; dur: 1000">
            </a-sphere>

            <a-sphere position="-0.3 0.5 0.1" radius="0.08" color="#00CED1"
                      material="emissive: #00CED1; emissiveIntensity: 0.6"
                      animation="property: scale; from: 0.8 0.8 0.8; to: 1.2 1.2 1.2; dir: alternate; loop: true; dur: 1200">
            </a-sphere>

            <a-sphere position="0.2 0.7 -0.2" radius="0.08" color="#FFD700"
                      material="emissive: #FFD700; emissiveIntensity: 0.6"
                      animation="property: scale; from: 0.8 0.8 0.8; to: 1.2 1.2 1.2; dir: alternate; loop: true; dur: 900">
            </a-sphere>

            <a-sphere position="-0.25 0.75 0.15" radius="0.08" color="#ff6347"
                      material="emissive: #ff6347; emissiveIntensity: 0.6"
                      animation="property: scale; from: 0.8 0.8 0.8; to: 1.2 1.2 1.2; dir: alternate; loop: true; dur: 1100">
            </a-sphere>

            <a-sphere position="0.15 0.95 0.1" radius="0.08" color="#9370DB"
                      material="emissive: #9370DB; emissiveIntensity: 0.6"
                      animation="property: scale; from: 0.8 0.8 0.8; to: 1.2 1.2 1.2; dir: alternate; loop: true; dur: 800">
            </a-sphere>
        </a-entity>

        <!-- ÐŸÐ¾Ð´Ð°Ñ€ÐºÐ¸ Ð²Ð¾ÐºÑ€ÑƒÐ³ Ñ‘Ð»ÐºÐ¸ -->
        <a-entity id="presents" scale="0.4 0.4 0.4">
            <!-- Ð‘Ð¾Ð»ÑŒÑˆÐ¾Ð¹ ÐºÑ€Ð°ÑÐ½Ñ‹Ð¹ Ð¿Ð¾Ð´Ð°Ñ€Ð¾Ðº -->
            <a-box
                    position="-0.6 0.2 0.3"
                    width="0.3"
                    height="0.4"
                    depth="0.3"
                    color="#ff1493"
                    rotation="0 25 0"
                    animation="property: position; from: -0.6 0.2 0.3; to: -0.6 0.25 0.3; dir: alternate; loop: true; dur: 2000">
            </a-box>
            <!-- Ð‘Ð°Ð½Ñ‚ Ð½Ð° Ð¿Ð¾Ð´Ð°Ñ€ÐºÐµ -->
            <a-torus
                    position="-0.6 0.42 0.3"
                    radius="0.1"
                    radius-tubular="0.03"
                    color="#FFD700"
                    rotation="0 25 90">
            </a-torus>

            <!-- Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ ÑÐ¸Ð½Ð¸Ð¹ Ð¿Ð¾Ð´Ð°Ñ€Ð¾Ðº -->
            <a-box
                    position="0.6 0.15 0.2"
                    width="0.25"
                    height="0.3"
                    depth="0.25"
                    color="#00CED1"
                    rotation="0 -30 0"
                    animation="property: position; from: 0.6 0.15 0.2; to: 0.6 0.2 0.2; dir: alternate; loop: true; dur: 2200">
            </a-box>
            <a-torus
                    position="0.6 0.32 0.2"
                    radius="0.08"
                    radius-tubular="0.025"
                    color="#ffffff"
                    rotation="0 -30 90">
            </a-torus>

            <!-- ÐœÐ°Ð»ÐµÐ½ÑŒÐºÐ¸Ð¹ Ð·ÐµÐ»Ñ‘Ð½Ñ‹Ð¹ Ð¿Ð¾Ð´Ð°Ñ€Ð¾Ðº -->
            <a-box
                    position="0.4 0.1 -0.5"
                    width="0.2"
                    height="0.2"
                    depth="0.2"
                    color="#32CD32"
                    rotation="0 60 0"
                    animation="property: position; from: 0.4 0.1 -0.5; to: 0.4 0.15 -0.5; dir: alternate; loop: true; dur: 1800">
            </a-box>
            <a-torus
                    position="0.4 0.22 -0.5"
                    radius="0.06"
                    radius-tubular="0.02"
                    color="#ff1493"
                    rotation="0 60 90">
            </a-torus>

            <!-- Ð¤Ð¸Ð¾Ð»ÐµÑ‚Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð´Ð°Ñ€Ð¾Ðº -->
            <a-box
                    position="-0.5 0.12 -0.4"
                    width="0.22"
                    height="0.24"
                    depth="0.22"
                    color="#9370DB"
                    rotation="0 -45 0"
                    animation="property: position; from: -0.5 0.12 -0.4; to: -0.5 0.17 -0.4; dir: alternate; loop: true; dur: 2400">
            </a-box>
            <a-torus
                    position="-0.5 0.26 -0.4"
                    radius="0.07"
                    radius-tubular="0.022"
                    color="#FFD700"
                    rotation="0 -45 90">
            </a-torus>
        </a-entity>

        <!-- Ð¡Ð½ÐµÐ³Ð¾Ð²Ð¸Ðº ÑÐ±Ð¾ÐºÑƒ -->
        <a-entity position="0.5 0 0" rotation="0 -30 0" scale="0.4 0.4 0.4">
            <!-- ÐÐ¸Ð¶Ð½Ð¸Ð¹ ÑˆÐ°Ñ€ -->
            <a-sphere
                    position="0 0.2 0"
                    radius="0.25"
                    color="#ffffff">
            </a-sphere>

            <!-- Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ ÑˆÐ°Ñ€ -->
            <a-sphere
                    position="0 0.5 0"
                    radius="0.2"
                    color="#ffffff">
            </a-sphere>

            <!-- Ð“Ð¾Ð»Ð¾Ð²Ð° -->
            <a-sphere
                    position="0 0.75 0"
                    radius="0.15"
                    color="#ffffff"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 8000; easing: linear">
            </a-sphere>

            <!-- Ð“Ð»Ð°Ð·Ð° -->
            <a-sphere position="-0.06 0.78 0.12" radius="0.02" color="#000000"></a-sphere>
            <a-sphere position="0.06 0.78 0.12" radius="0.02" color="#000000"></a-sphere>

            <!-- ÐÐ¾Ñ-Ð¼Ð¾Ñ€ÐºÐ¾Ð²ÐºÐ° -->
            <a-cone
                    position="0 0.75 0.15"
                    radius-bottom="0.025"
                    radius-top="0.005"
                    height="0.12"
                    color="#ff6347"
                    rotation="90 0 0">
            </a-cone>

            <!-- Ð¨Ð»ÑÐ¿Ð° -->
            <a-cylinder
                    position="0 0.92 0"
                    radius="0.12"
                    height="0.15"
                    color="#000000">
            </a-cylinder>
            <a-cylinder
                    position="0 0.87 0"
                    radius="0.18"
                    height="0.02"
                    color="#000000">
            </a-cylinder>

            <!-- ÐŸÑƒÐ³Ð¾Ð²Ð¸Ñ†Ñ‹ -->
            <a-sphere position="0 0.55 0.18" radius="0.03" color="#000000"></a-sphere>
            <a-sphere position="0 0.45 0.19" radius="0.03" color="#000000"></a-sphere>
        </a-entity>

        <!-- ÐŸÐ°Ð´Ð°ÑŽÑ‰Ð¸Ð¹ ÑÐ½ÐµÐ³ Ð²Ð¾ÐºÑ€ÑƒÐ³ -->
        <a-entity id="snowParticles" scale="0.4 0.4 0.4">
            <a-sphere position="0.5 2 0.5" radius="0.03" color="#ffffff"
                      animation="property: position; to: 0.5 0 0.5; loop: true; dur: 4000; easing: linear">
            </a-sphere>
            <a-sphere position="-0.7 2.5 0.3" radius="0.025" color="#ffffff"
                      animation="property: position; to: -0.7 0 0.3; loop: true; dur: 4500; easing: linear">
            </a-sphere>
            <a-sphere position="0.8 2.2 -0.6" radius="0.035" color="#ffffff"
                      animation="property: position; to: 0.8 0 -0.6; loop: true; dur: 3800; easing: linear">
            </a-sphere>
            <a-sphere position="-0.4 2.8 -0.4" radius="0.03" color="#ffffff"
                      animation="property: position; to: -0.4 0 -0.4; loop: true; dur: 4200; easing: linear">
            </a-sphere>
            <a-sphere position="0.2 2.3 0.8" radius="0.028" color="#ffffff"
                      animation="property: position; to: 0.2 0 0.8; loop: true; dur: 4600; easing: linear">
            </a-sphere>
            <a-sphere position="-0.9 2.6 -0.2" radius="0.032" color="#ffffff"
                      animation="property: position; to: -0.9 0 -0.2; loop: true; dur: 3900; easing: linear">
            </a-sphere>
        </a-entity>

        <!-- Ð’Ð¾Ð»ÑˆÐµÐ±Ð½Ñ‹Ðµ Ð¾Ð³Ð¾Ð½ÑŒÐºÐ¸ Ð²Ð¾ÐºÑ€ÑƒÐ³ ÑÑ†ÐµÐ½Ñ‹ -->
        <a-entity id="magicLights" scale="0.35 0.35 0.35">
            <a-torus
                    position="0 0.5 0"
                    radius="1.5"
                    radius-tubular="0.02"
                    color="#FFD700"
                    material="emissive: #FFD700; emissiveIntensity: 0.8; opacity: 0.6; transparent: true"
                    rotation="90 0 0"
                    animation="property: rotation; to: 90 360 0; loop: true; dur: 8000; easing: linear">
            </a-torus>

            <a-torus
                    position="0 0.8 0"
                    radius="1.3"
                    radius-tubular="0.02"
                    color="#ff1493"
                    material="emissive: #ff1493; emissiveIntensity: 0.8; opacity: 0.5; transparent: true"
                    rotation="90 0 0"
                    animation="property: rotation; to: 90 -360 0; loop: true; dur: 10000; easing: linear">
            </a-torus>

            <a-torus
                    position="0 1.1 0"
                    radius="1.1"
                    radius-tubular="0.02"
                    color="#00CED1"
                    material="emissive: #00CED1; emissiveIntensity: 0.8; opacity: 0.4; transparent: true"
                    rotation="90 0 0"
                    animation="property: rotation; to: 90 360 0; loop: true; dur: 12000; easing: linear">
            </a-torus>
        </a-entity>

    </a-marker>

    <a-entity camera></a-entity>
</a-scene>

<script>
    const message = document.getElementById('message');
    const instructions = document.getElementById('instructions');
    const marker = document.getElementById('mainMarker');

    let markerFound = false;

    marker.addEventListener('markerFound', () => {
        console.log('ðŸŽ„ HIRO marker found!');

        if (!markerFound) {
            markerFound = true;

            instructions.style.display = 'none';

            message.textContent = 'ðŸŽ„ Christmas Magic Activated! âœ¨';
            message.classList.add('visible');

            setTimeout(() => {
                message.textContent = 'â„ï¸ Merry Christmas! ðŸŽ…';
            }, 2000);

            setTimeout(() => {
                message.classList.remove('visible');
            }, 5000);
        }
    });

    marker.addEventListener('markerLost', () => {
        console.log('Marker lost');
        instructions.style.display = 'block';
    });
</script>

</body>
</html>